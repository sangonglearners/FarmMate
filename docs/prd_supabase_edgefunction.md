# ğŸ“„ Supabase Edge Function ê°œë°œ ë° ë°°í¬ ê³„íš

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê¸°ëŠ¥ ì´ë¦„** | ì‘ë¬¼ ì¶”ì²œ Supabase Edge Function ê°œë°œ ë° í†µí•© |
| **ê°œìš”** | ê¸°ì¡´ í•¨ìˆ˜ë¥¼ ë°°í¬í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í†µí•©í•˜ëŠ” ë¹ ë¥¸ ê°œë°œ í”„ë¡œì„¸ìŠ¤ |
| **ìš°ì„ ìˆœìœ„** | High |

## Phase 1: í•¨ìˆ˜ ë°°í¬ ë° í…ŒìŠ¤íŠ¸
- [x] í•¨ìˆ˜ ìƒì„± ì™„ë£Œ (`supabase functions new recommend`)
- [x] ê¸°ì¡´ ì‘ë¬¼ ì¶”ì²œ ë¡œì§ì„ `index.ts`ì— ì ìš©
- [x] docker desktop ì„¤ì¹˜ ë° ë¡œì»¬ í…ŒìŠ¤íŠ¸
- [X] `supabase functions deploy recommend` ëª…ë ¹ì–´ë¡œ ë°°í¬
- [X] Supabase>edge function>testì—ì„œ ë°°í¬ëœ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

## Phase 2: í”„ë¡ íŠ¸ì—”ë“œ API ì—°ë™ (Phase 3ê³¼ ë³‘ë ¬ ê°€ëŠ¥)
- [x] `@shared/api/recommendation.ts` íŒŒì¼ ìƒì„±
- [x] Supabase Edge Function í˜¸ì¶œ í•¨ìˆ˜ êµ¬í˜„
- [x] ì…ë ¥ í˜ì´ì§€ì—ì„œ API í˜¸ì¶œ ì—°ë™
- [x] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í†µí•œ ê²°ê³¼ ì „ë‹¬
- [x] ê¸°ë³¸ ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€

> ğŸ’¡ **ê°œë°œ íŒ**: Phase 3 UIë¥¼ ë¨¼ì € ê°œë°œí•˜ê³  mock ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸í•œ í›„, Phase 2 APIë¥¼ ì—°ë™í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

## Phase 3: ì‘ë¬¼ ì¶”ì²œ UI ê°œë°œ (Phase 2ë³´ë‹¤ ë¨¼ì € ì‹œì‘ ê°€ëŠ¥)

### 3.1 ì…ë ¥ í˜ì´ì§€ (`/recommendations/input`)
- [x] ì…ë ¥ í¼ êµ¬í˜„
  - [x] **ì¬ë°° ìœ„ì¹˜ ì„ íƒ**: farms í…Œì´ë¸”ì—ì„œ ì‚¬ìš©ì ë†ì¥ ëª©ë¡ ì¡°íšŒ â†’ `environment` ê°’ ì‚¬ìš©
    - [x] ë†ì¥ ë“±ë¡ ì‹œ: ë†ì¥ëª… + í™˜ê²½ (ì´ëª¨ì§€ í¬í•¨) í‘œì‹œ
    - [x] ë†ì¥ ë¯¸ë“±ë¡ ì‹œ: ë…¸ì§€/ì‹œì„¤ ê¸°ë³¸ ì„ íƒ ì œê³µ
  - [x] **ì¬ë°° ë²”ìœ„ ì…ë ¥**: ì´ë‘ ìˆ˜ ì…ë ¥ (ìˆ«ì, ìµœì†Œê°’ 1)
    - [x] ë„ì›€ë§ í…ìŠ¤íŠ¸: "3ê°œ í’ˆì¢… ê¸°ì¤€ 9-30ê°œ ê¶Œì¥"
  - [x] **ì¬ë°° ì‹œê¸° ì„ íƒ**: ì‹œì‘/ì¢…ë£Œ ì›” ì–´ì½”ë””ì–¸ í† ê¸€ (1~12ì›”)
    - [x] ê°€ë¡œ ë°°ì¹˜ (ì‹œì‘ì›” | ì¢…ë£Œì›”)
- [x] "ì‘ë¬¼ ì¶”ì²œ ë°›ê¸°" ë²„íŠ¼ â†’ API í˜¸ì¶œ ë° ë¡œë”© í˜ì´ì§€ ì´ë™
- [x] ìƒë‹¨ "ì¶”ì²œ ê¸°ë¡ ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€
- [x] ì œëª©/ë¶€ì œ ê°€ìš´ë° ì •ë ¬

### 3.2 ë¡œë”© í™”ë©´ (`/recommendations/loading`)
- [x] ë¡œë”© ìŠ¤í”¼ë„ˆ + "ì‘ë¬¼ ì¡°í•©ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€
- [x] ğŸŒ± ì•„ì´ì½˜ê³¼ íšŒì „ ì• ë‹ˆë©”ì´ì…˜
- [x] ì§„í–‰ ë‹¨ê³„ í‘œì‹œ (ì¬ë°° ì¡°ê±´ ë¶„ì„, ë°ì´í„° ì¡°íšŒ, ì¡°í•© ê³„ì‚°)
- [x] API í˜¸ì¶œ ì™„ë£Œ ì‹œ ê²°ê³¼ í˜ì´ì§€ë¡œ ìë™ ì „í™˜

### 3.3 ì¶”ì²œ ê²°ê³¼ í˜ì´ì§€ (`/recommendations/result`)
- [x] ì¶”ì²œ ì¡°í•© ì¹´ë“œ 3ê°œ (ë¦¬ìŠ¤íŠ¸ ë·°, ì»´íŒ©íŠ¸ ë””ìì¸)
  - [x] ì¹´ë“œ í—¤ë”: "Plan A/B/C" (í° í°íŠ¸, ë°°ì§€ ìŠ¤íƒ€ì¼)
  - [x] ì‘ë¬¼ëª… 3ê°œ (í’ˆëª© + í’ˆì¢…) - í•œ ì¤„ì”©, ë…¹ìƒ‰ ë°°ì§€ + ğŸŒ± ì´ëª¨ì§€
  - [x] ì˜ˆìƒ ë§¤ì¶œì•¡ (ëª…ì‹œì  ë¼ë²¨ "ì˜ˆìƒ ë§¤ì¶œì•¡" + ì²œ ë‹¨ìœ„ êµ¬ë¶„)
  - [x] ì§€í‘œ ì‹œê°í™” (0~3): í•œ ì¤„ì— ì§„í–‰ ë°” + ìˆ«ì í‘œê¸°
    - ğŸ’° ìˆ˜ìµì„±, âš™ï¸ ë…¸ë™í¸ì˜ì„±, âœ¨ í’ˆì¢…í¬ì†Œì„±
- [x] ì¹´ë“œ ì„ íƒ (ë¼ë””ì˜¤ ë²„íŠ¼, í•˜ë‚˜ë§Œ ì„ íƒ)
- [x] "ì¶”ì²œ ê²°ê³¼ ì €ì¥í•˜ê¸°" ë²„íŠ¼ â†’ `rec_result` í…Œì´ë¸”ì— ì €ì¥
  - [x] ì…ë ¥ ì¡°ê±´(ì¬ë°° ë²”ìœ„, ì¬ë°° ì‹œê¸°) í•¨ê»˜ ì €ì¥
  - [x] ë†ì¥ ì •ë³´(farm_id, farm_name, farm_environment) ì €ì¥
- [x] "ì¶”ì²œ ì¡°ê±´ ë³€ê²½í•˜ê¸°" Ghost ë²„íŠ¼ (ì¢Œì¸¡ ì •ë ¬, ChevronLeft ì•„ì´ì½˜)

## Phase 4: ë°ì´í„° ì—°ë™ ë° ì™„ì„±

### 4.1 `rec_result` í…Œì´ë¸” ìƒì„± ë° ì €ì¥
- [x] í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìƒì„± (`create_rec_result_table.sql`)
  - user_id, farm_id, farm_name, farm_environment, rec_range, rec_period
  - crop_names, expected_revenue, indicators, combination_detail, created_at
  - RLS ì •ì±… ì„¤ì • (ì‚¬ìš©ìë³„ ë°ì´í„° ê²©ë¦¬)
  - ì¸ë±ìŠ¤ ìƒì„± (user_id, created_at)
- [x] í…Œì´ë¸” ì»¬ëŸ¼ ì¶”ê°€ (`add_farm_info_to_rec_result.sql`, `add_input_conditions_to_rec_result.sql`)
  - farm_name, farm_environment: ë†ì¥ ì •ë³´ ìŠ¤ëƒ…ìƒ· ì €ì¥
  - rec_range: ì¬ë°° ë²”ìœ„ (ì´ë‘ ìˆ˜)
  - rec_period: ì¬ë°° ì‹œê¸° (ì˜ˆ: "3ì›” ~ 6ì›”")
- [x] ì„ íƒí•œ ì¡°í•© ì €ì¥ í•¨ìˆ˜ êµ¬í˜„ (`saveRecommendationResult`)
  - ì‚¬ìš©ì ID ìë™ ì—°ë™
  - ì„ íƒí•œ ì¹´ë“œì˜ ì •ë³´ + ì…ë ¥ ì¡°ê±´ ì €ì¥
  - ê²°ê³¼ í˜ì´ì§€ì—ì„œ "ì¶”ì²œ ê²°ê³¼ ì €ì¥í•˜ê¸°" ë²„íŠ¼ ì—°ë™

### 4.2 ì—ëŸ¬ ì²˜ë¦¬
- [x] API í˜¸ì¶œ ì‹¤íŒ¨: ì—ëŸ¬ ë©”ì‹œì§€ + ì…ë ¥ í˜ì´ì§€ë¡œ ë³µê·€
- [x] ì¶”ì²œ ê²°ê³¼ ì—†ìŒ: Mock ë°ì´í„° fallback
- [x] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ íŒŒì‹± ì˜¤ë¥˜ ì²˜ë¦¬

### 4.4 ì¶”ì²œ ê¸°ë¡ ìë™ ì‚­ì œ
> âœ… **êµ¬í˜„ ì™„ë£Œ**: PostgreSQL `pg_cron` ì‚¬ìš©

**êµ¬í˜„ ë°©ë²•: PostgreSQL `pg_cron` (ì„ íƒ)**
- [x] ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„± (`setup_auto_delete_recommendations.sql`)
- [x] `pg_cron` í™•ì¥ í™œì„±í™”
- [x] ì‚­ì œ í•¨ìˆ˜ ì‘ì„±: `delete_old_recommendations()`
- [x] cron ì‘ì—… ë“±ë¡: ë§¤ì¼ ìì •(UTC) ì‹¤í–‰
- [x] UI ì•ˆë‚´ ë¬¸êµ¬ ì¶”ê°€: ì¶”ì²œ ê¸°ë¡ ëª©ë¡ í˜ì´ì§€

**ì„¤ì • ì‚¬í•­ (í™•ì •)**
- âœ… ì‚­ì œ ê¸°ê°„: **7ì¼ ê³ ì •**
- âœ… ì•Œë¦¼: **ì‚¬ì „ ì•Œë¦¼ ì—†ìŒ** (UIì— ì•ˆë‚´ ë¬¸êµ¬ë§Œ í‘œì‹œ)
- âœ… ì‚­ì œ ë°©ì‹: **í•˜ë“œ ì‚­ì œ** (ë³µêµ¬ ë¶ˆê°€)
- âœ… Supabase ë¬´ë£Œ í‹°ì–´ì—ì„œ `pg_cron` ì‚¬ìš© ê°€ëŠ¥ í™•ì¸ë¨

**ì‚¬ìš©ì ìˆ˜í–‰ í•„ìš” ì‘ì—…**
1. Supabase Dashboardì—ì„œ SQL ì‹¤í–‰
2. cron ì‘ì—… ë“±ë¡ í™•ì¸
3. (ì„ íƒ) ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### 4.3 ì¶”ì²œ ê²°ê³¼ ì¡°íšŒ UI
- [x] ì¶”ì²œ ê¸°ë¡ ëª©ë¡ í˜ì´ì§€ (`/recommendations/history`)
  - [x] rec_result í…Œì´ë¸”ì—ì„œ ì‚¬ìš©ìì˜ ì €ì¥ëœ ì¶”ì²œ ê²°ê³¼ ì¡°íšŒ
  - [x] ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ í‘œì‹œ (ë‚ ì§œ, ì…ë ¥ ì¡°ê±´ ìš”ì•½)
    - [x] ğŸŒ¾/ğŸ /ğŸ—ï¸ ì¬ë°° ìœ„ì¹˜ (ë†ì¥ëª… + í™˜ê²½)
    - [x] ğŸ“ ì¬ë°° ë²”ìœ„ (Nì´ë‘)
    - [x] ğŸ“… ì¬ë°° ì‹œê¸° (Nì›” ~ Nì›”)
    - [x] ğŸ’° ì˜ˆìƒ ë§¤ì¶œì•¡
  - [x] ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
  - [x] ë¹ˆ í™”ë©´ ì²˜ë¦¬ (ì´ëª¨ì§€ + ì•ˆë‚´ ë¬¸êµ¬ + CTA ë²„íŠ¼)
- [x] ì¶”ì²œ ê²°ê³¼ ìƒì„¸ í˜ì´ì§€ (`/recommendations/history/:id`)
  - [x] ì €ì¥ ë‹¹ì‹œ ì…ë ¥ ì¡°ê±´ ì¹´ë“œ í‘œì‹œ
    - [x] ì¬ë°° ìœ„ì¹˜, ì¬ë°° ë²”ìœ„, ì¬ë°° ì‹œê¸°
  - [x] ì„ íƒí–ˆë˜ ì‘ë¬¼ ì¡°í•© ì¹´ë“œ í‘œì‹œ (Plan A ìŠ¤íƒ€ì¼)
  - [x] ì‚­ì œ ë²„íŠ¼ (í™•ì¸ ëª¨ë‹¬ í¬í•¨)
- [x] ì…ë ¥ í˜ì´ì§€ ìƒë‹¨ì— "ì¶”ì²œ ê¸°ë¡ ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€
  - [x] í˜„ì¬ ìœ ì§€: ë§ˆì´í˜ì´ì§€ì—ëŠ” ì¶”ê°€í•˜ì§€ ì•ŠìŒ (Beta ê¸°ëŠ¥ í¬ì§€ì…”ë‹)

## ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: Supabase Edge Functions (Deno)
- **Frontend**: React + TypeScript + React Query
- **Database**: Supabase PostgreSQL

---

## API ëª…ì„¸

### Edge Function ì—”ë“œí¬ì¸íŠ¸
- **URL**: `https://lioumnvavuntfysxqady.supabase.co/functions/v1/recommend`
- **Method**: POST
- **Content-Type**: `application/json`

### ìš”ì²­ í˜•ì‹
```json
{
  "start_month": 3,        // ì¬ë°° ì‹œì‘ ì›” (1~12)
  "end_month": 6,          // ì¬ë°° ì¢…ë£Œ ì›” (1~12)
  "input_place": "ë…¸ì§€",   // ì¬ë°° ìœ„ì¹˜ ("ë…¸ì§€" | "ì‹œì„¤")
  "input_irang": 20        // ì´ë‘ ìˆ˜ (ì–‘ìˆ˜)
}
```

### ì‘ë‹µ í˜•ì‹
```json
{
  "ok": true,
  "result": {
    "recommended_combinations": [
      // 3ê°œì˜ ì¡°í•©, ê° ì¡°í•©ë‹¹ 3ê°œì˜ ì‘ë¬¼
      [
        {
          "name": "ë¡±ë¹ˆ (ìƒ¤ì‚¬ì¼€)",           // í‘œì‹œìš© ì´ë¦„
          "item": "ë¡±ë¹ˆ",                     // í’ˆëª©ëª…
          "variety": "ìƒ¤ì‚¬ì¼€",                // í’ˆì¢…ëª…
          "score": 0.583,                    // ìµœì¢… ì ìˆ˜ (0~1)
          "profit_score": 0.891,             // ìˆ˜ìµì„± ì ìˆ˜ (0~1, ìŠ¤ì¼€ì¼ë§ í›„)
          "labor_score": 0.0,                // ë…¸ë™í¸ì˜ì„± ì ìˆ˜ (0~1, ìŠ¤ì¼€ì¼ë§ í›„)
          "rarity_score": 1.0,               // í’ˆì¢…í¬ì†Œì„± ì ìˆ˜ (0~1, ìŠ¤ì¼€ì¼ë§ í›„)
          "ìˆ˜ìµì„±_ì‚¬ìš©": 69800,               // ì‹¤ì œ ìˆ˜ìµì„± ê°’ (ì›, ìŠ¤ì¼€ì¼ë§ ì „)
          "ë…¸ë™í¸ì˜ì„±": 2,                    // ì›ë³¸ ë…¸ë™í¸ì˜ì„± (2~5)
          "í’ˆì¢…í¬ì†Œì„±": 5                     // ì›ë³¸ í’ˆì¢…í¬ì†Œì„± (2~5)
        }
        // ... 2ê°œ ë”
      ]
      // ... ìµœëŒ€ 3ê°œì˜ ì¡°í•©
    ],
    "cards": [
      // UI ì¹´ë“œ í‘œì‹œìš© ë°ì´í„°
      {
        "title": "Gift box 1",
        "crops": ["ë¡±ë¹ˆ (ìƒ¤ì‚¬ì¼€)", "ê·¸ë¦°ë¹ˆ (ìºí”¼íƒ€ë…¸)", "í’‹ì½© (ì°¨ë§ˆë©”)"],
        "indicators": {
          "ìˆ˜ìµì„±": 2.1,        // 3ê°œ ì‘ë¬¼ì˜ profit_score í•©ê³„ (0~3)
          "ë…¸ë™í¸ì˜ì„±": 1.0,     // 3ê°œ ì‘ë¬¼ì˜ labor_score í•©ê³„ (0~3)
          "í’ˆì¢…í¬ì†Œì„±": 2.3      // 3ê°œ ì‘ë¬¼ì˜ rarity_score í•©ê³„ (0~3)
        },
        "expected_revenue": "1,398,000"  // ì˜ˆìƒ ìˆ˜ìµ (ë¬¸ìì—´, ì²œ ë‹¨ìœ„ êµ¬ë¶„)
      }
      // ... ìµœëŒ€ 3ê°œì˜ ì¹´ë“œ
    ],
    "total_profit": 1398000,  // 1ìˆœìœ„ ì¡°í•©ì˜ ì´ ì˜ˆìƒ ìˆ˜ìµ (ìˆ«ì)
    "recommended_crops": []   // ëª¨ë“  ì¶”ì²œ ì‘ë¬¼ì„ flatí•œ ë°°ì—´
  }
}
```

### ì—ëŸ¬ ì‘ë‹µ
```json
{
  "ok": true,
  "result": {
    "recommended_combinations": [],
    "total_profit": 0,
    "cards": [],
    "error": "ì¶”ì²œ ê°€ëŠ¥í•œ ì‘ë¬¼ì´ 3ê°œ ë¯¸ë§Œì…ë‹ˆë‹¤. ì¬ë°° ì‹œê¸°ë¥¼ ì¡°ì •í•´ì£¼ì„¸ìš”."
  }
}
```

---

## ê°œë°œ ì°¸ê³  ì •ë³´

### Phase 2 API í˜¸ì¶œ í•¨ìˆ˜
```typescript
// @shared/api/recommendation.ts
export async function getRecommendations(params: {
  start_month: number;
  end_month: number;
  input_place: string;
  input_irang: number;
}) {
  const response = await fetch(
    'https://lioumnvavuntfysxqady.supabase.co/functions/v1/recommend',
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(params),
    }
  );
  return response.json();
}
```

### farms í…Œì´ë¸” êµ¬ì¡°
```typescript
{
  id: string;
  user_id: string;
  name: string;
  environment: "ë…¸ì§€" | "ì‹œì„¤";  // input_placeë¡œ ì‚¬ìš©
  row_count: number;
  area: string;
  created_at: string;
  updated_at: string;
}
```

### rec_result í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
```sql
CREATE TABLE rec_result (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id),
  farm_id UUID REFERENCES farms(id),
  farm_name TEXT,                 -- ë†ì¥ëª… ìŠ¤ëƒ…ìƒ·
  farm_environment TEXT,          -- ì¬ë°° í™˜ê²½ ìŠ¤ëƒ…ìƒ· ("ë…¸ì§€" | "ì‹œì„¤")
  rec_range INTEGER,              -- ì¬ë°° ë²”ìœ„ (ì´ë‘ ìˆ˜)
  rec_period TEXT,                -- ì¬ë°° ì‹œê¸° (ì˜ˆ: "3ì›” ~ 6ì›”")
  crop_names TEXT[],              -- 3ê°œ ì‘ë¬¼ëª… ë°°ì—´
  expected_revenue TEXT,          -- ì˜ˆìƒ ë§¤ì¶œì•¡
  indicators JSONB,               -- {ìˆ˜ìµì„±: 2.1, ë…¸ë™í¸ì˜ì„±: 1.0, í’ˆì¢…í¬ì†Œì„±: 2.3}
  combination_detail JSONB,       -- recommended_combinations[ì„ íƒí•œ ì¸ë±ìŠ¤]
  created_at TIMESTAMP DEFAULT NOW()
);
```

### ì§€í‘œ ì‹œê°í™” êµ¬í˜„ (ì§„í–‰ ë°” + ìˆ«ì)
```tsx
<div className="indicator">
  <span>ìˆ˜ìµì„±</span>
  <div className="progress-bar">
    <div className="fill" style={{ width: `${(value / 3) * 100}%` }} />
  </div>
  <span className="value">{value}/3.0</span>
</div>
```

---

## Phase 5: ì¶”ì²œ ì¡°í•© ë”ë³´ê¸° ê¸°ëŠ¥

### 5.1 ê¸°ëŠ¥ ê°œìš”
- ê¸°ë³¸ 3ê°œ ì¡°í•© í‘œì‹œ â†’ ë”ë³´ê¸° í´ë¦­ ì‹œ ìµœëŒ€ 6ê°œê¹Œì§€ í‘œì‹œ
- ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì¡°í•©ì„ ì°¾ì§€ ëª»í–ˆì„ ë•Œ ì¶”ê°€ ì˜µì…˜ ì œê³µ

### 5.2 ë°±ì—”ë“œ ì‘ì—…
- [x] `recommendation.ts`: `solveMILP` í˜¸ì¶œ ì‹œ `maxCombinations`ë¥¼ 6ìœ¼ë¡œ ë³€ê²½
  - ê¸°ì¡´: 3ê°œ ì¡°í•© ìƒì„±
  - ë³€ê²½: 6ê°œ ì¡°í•© ìƒì„± (ê¸°ë³¸ 3ê°œ + ë”ë³´ê¸° 3ê°œ)

### 5.3 í”„ë¡ íŠ¸ì—”ë“œ ì‘ì—… (`RecommendationsResultPage.tsx`)
- [x] `visibleCount` ìƒíƒœ ì¶”ê°€ (ì´ˆê¸°ê°’: 3)
- [x] ì¹´ë“œ í‘œì‹œ ë¡œì§ ìˆ˜ì •: `cards.slice(0, visibleCount)` ì‚¬ìš©
- [x] ë”ë³´ê¸° í•¸ë“¤ëŸ¬ êµ¬í˜„: í´ë¦­ ì‹œ ëª¨ë“  ì¹´ë“œ í‘œì‹œ (`setVisibleCount(cards.length)`)
- [x] ë”ë³´ê¸° ë²„íŠ¼ UI ì¶”ê°€
  - í‘œì‹œ ì¡°ê±´: `visibleCount < cards.length`
  - ë²„íŠ¼ í…ìŠ¤íŠ¸: "ë” ë§ì€ ì¡°í•© ë³´ê¸°"
  - ìŠ¤íƒ€ì¼: íšŒìƒ‰ í…Œë‘ë¦¬ ë²„íŠ¼ (`variant="outline"`)
- [x] ì•ˆë‚´ ë¬¸êµ¬ í‘œì‹œ
  - í‘œì‹œ ì¡°ê±´: `visibleCount >= cards.length && cards.length > 3`
  - ë‚´ìš©: "ëª¨ë“  ì¶”ì²œ ì¡°í•©ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤ âœ“"
- [x] í•˜ë‹¨ ë²„íŠ¼ ë””ìì¸ ê°œì„ 
  - "ì¶”ì²œ ê²°ê³¼ ì €ì¥í•˜ê¸°": ì´ˆë¡ìƒ‰ ë©”ì¸ ë²„íŠ¼
  - "ì¶”ì²œ ì¡°ê±´ ë³€ê²½í•˜ê¸°": Ghost ë²„íŠ¼ + ChevronLeft ì•„ì´ì½˜ (ì¢Œì¸¡ ì •ë ¬)

### 5.4 ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤
- **ì¡°í•© 3ê°œ ìƒì„±**: ëª¨ë‘ í‘œì‹œ, ë”ë³´ê¸° ë²„íŠ¼ ì—†ìŒ
- **ì¡°í•© 4ê°œ ìƒì„±**: ì²˜ìŒ 3ê°œ í‘œì‹œ â†’ ë”ë³´ê¸° í´ë¦­ ì‹œ 4ê°œ ëª¨ë‘ í‘œì‹œ
- **ì¡°í•© 6ê°œ ìƒì„±**: ì²˜ìŒ 3ê°œ í‘œì‹œ â†’ ë”ë³´ê¸° í´ë¦­ ì‹œ 6ê°œ ëª¨ë‘ í‘œì‹œ
- **ì¡°í•© 6ê°œ ì´ìƒ**: ë°±ì—”ë“œì—ì„œ ìµœëŒ€ 6ê°œë§Œ ìƒì„±í•˜ë¯€ë¡œ ë°œìƒ ì•ˆ í•¨
